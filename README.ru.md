## Доступные языки

- [English](README.md)
- [日本語 (Japanese)](README.ja.md)
- [正體中文 (Taiwan)](README.zh-TW.md)
- [简体中文 (China)](README.zh-CN.md)
- [한국어 (Korean)](README.ko.md)
- [Русский (Russian)](README.ru.md)
- [Español (Spanish)](README.es.md)

# gpu-screen-recorder-helper
Упростите запуск [gpu-screen-recorder](https://git.dec05eba.com/gpu-screen-recorder/about/).

## gpu-screen-recorder-helper

Это Bash-скрипт-обёртка для команды `gpu-screen-recorder`, предоставляющий интерактивный выбор директории и имени файла для сохранения, обработку ошибок и поддержку многоязычных сообщений.

---

## Оглавление

- [Требования](#требования)  
- [Установка](#установка)  
- [Использование](#использование)  
- [Настройка](#настройка)  
- [Локализация (многоязычная поддержка)](#локализация-многоязычная-поддержка)  
- [Примечания](#примечания)  
- [Лицензия](#лицензия)  

---

## Требования

- Среда Linux  
- Bash (`bash >= 4.4`)  
- Установленная команда `gpu-screen-recorder` (см. [здесь](https://git.dec05eba.com/gpu-screen-recorder/about/))

---

## Установка

1. Клонируйте репозиторий или загрузите скрипт
   ```bash
   git clone https://github.com/bmhh-guy/gpu-screen-recorder-helper.git
   cd gpu-screen-recorder-helper
   ```

2. Назначьте права на выполнение
   ```bash
   chmod +x Record.sh
   ```

3. Рекомендуется создать ярлык рабочего стола.  
   - В проект включён ярлык для KDE Plasma + Konsole. В других DE или терминалах он может работать некорректно.

4. При необходимости добавьте в `$PATH`
   ```bash
   mv YourDesktopEntry /usr/local/bin/rec
   ```

---

## Использование

```bash
# Запуск скрипта напрямую
./Record.sh

# Или после установки через алиас
rec
```

1. **Директория для сохранения**  
   - По умолчанию используется стандартная директория `VIDEOS` согласно XDG.  
   - Если она недоступна — используется `$HOME/videos`.  
   - При запуске отображается как "Директория для сохранения:".

2. **Указание имени файла**  
   - Можно ввести имя файла через приглашение.  
   - Если оставить пустым — имя создаётся автоматически в формате `recording_YYYYMMDD_HHMMSS.mp4`.

3. **Процесс записи**  
   1. Создание директории, если она не существует  
   2. Проверка прав на запись  
   3. Запуск `gpu-screen-recorder`  
   4. Сообщение об успехе или вывод ошибки

4. **Завершение записи**  
   - Нажмите Ctrl + Q для остановки записи. Файл MP4 будет сохранён в указанной директории.

---

## Настройка

В начале скрипта в разделе "Настройка" можно изменить следующее:

```bash
# Пример изменения директории по умолчанию
default_dir="/mnt/media/screencasts"

# Пример изменения списка поддерживаемых языков
supported_langs=(en ja ru zh ko es)
```

---

## Локализация (многоязычная поддержка)

Скрипт извлекает код языка из переменной среды `LANG` и отображает соответствующие сообщения.

| Ключ                    | Пример сообщения                                              |
|-------------------------|---------------------------------------------------------------|
| `prompt_filename`       | Пожалуйста, введите имя выходного файла (по умолчанию...)     |
| `default_dir_msg`       | Директория для сохранения: ...                                |
| `command_not_found`     | Команда 'gpu-screen-recorder' не найдена.                     |
| `dir_create`            | Директория '%s' не существует, создаётся...                   |
| `dir_no_write`          | Нет прав на запись в директорию '%s'.                         |
| `success`               | Запись завершена: %s                                          |
| `record_error`          | Произошла ошибка во время записи.                             |
| `recording_interrupted` | Запись была прервана.                                         |
| `error_line`            | Ошибка на строке %s: %s                                       |

---

## Примечания

- При отсутствии команды `gpu-screen-recorder` скрипт завершится с ошибкой.  
- При отсутствии прав на запись в целевую директорию возникнет ошибка.  
- Используется строгий режим (`set -euo pipefail`), поэтому при ошибках выполнение прерывается.  
- Имя файла по умолчанию имеет формат `recording_YYYYMMDD_HHMMSS.mp4`.  
- Скрипт является базовым шаблоном и может быть доработан по усмотрению пользователя.

---

